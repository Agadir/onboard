require 'open3'

user, pass = ARGV

stdouterr, status = Open3.capture2e 'sudo chpasswd', :stdin_data => "#{user}:#{pass}" 

#p status

begin
  raise RuntimeError, stdouterr unless status.success?
rescue RuntimeError
  p $!
end




